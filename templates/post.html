{% extends 'base.html' %}
{% load markdown_extras %}
{% block content %}

<body class="bg-gray-100 font-sans leading-normal tracking-normal"> 

	<!--Container-->
	<div class="container w-full md:max-w-3xl mx-auto pt-20">

		<div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal" style="font-family:Georgia,serif;">

			<!--Title-->
			<div class="font-sans">
				<h1 class="font-bold font-sans break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">
				{{ post.title }}</h1>
				<p class="text-sm md:text-base font-normal text-gray-600">
				{{ post.timestamp}}</p>
				<img class="h-40 rounded w-full object-cover object-center mb-6" src="{{ post.thumbnail.url }}" alt="content">
			</div>

			<!--Post Content-->
			<div class="py-6">
				{{ post.content | markdown | safe }}
			</div>

			<ol>
				<li class="py-3">Maecenas accumsan lacus sit amet elementum porta. Aliquam eu libero lectus...</li>
				<li class="py-3">Morbi varius posuere blandit. Praesent gravida bibendum neque eget commodo...</li>
				<li class="py-3">Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae...</li>
			</ol>

		</div>

		<!--Divider-->
		<hr class="border-b-2 border-gray-400 mb-8 mx-4">

		<!--Author-->
		<div class="flex w-full items-center font-sans px-4 py-12">
			<img class="w-10 h-10 rounded-full mr-4" src="{{ post.author.profile_picture.url }}">
			<div class="flex-1 px-2">
				<p class="text-base font-bold text-base md:text-xl leading-none mb-2">
				{{ post.author }}</p>
			</div>
		</div>
		<!--/Author-->

		<!--Divider-->
		<hr class="border-b-2 border-gray-400 mb-8 mx-4">

		<!-- Comment bölməsi -->
		<h3 class="px-4 py-2 text-xl font-bold">Comments</h3>
		<div class="px-4">
			{% if comments %}
				{% for comment in comments %}
					<div class="mb-2 p-2 border rounded bg-gray-50">
						<p><b>{{ comment.user.username }}:</b> {{ comment.content }}</p>
						<p class="text-sm text-gray-500">{{ comment.created_at|date:"M d, Y H:i" }}</p>
					</div>
				{% endfor %}
			{% else %}
				<p>Heç bir comment yoxdur.</p>
			{% endif %}
		</div>

		<!-- Comment formu -->
		{% if request.user.is_authenticated %}
			<hr class="border-b-2 border-gray-400 mb-4 mx-4">
			<h3 class="px-4 py-2 text-xl font-bold">Yeni Comment Yaz</h3>
			<form method="POST" class="px-4 py-2">
				{% csrf_token %}
				<textarea name="content" rows="3" class="w-full border p-2 rounded" placeholder="Comment yaz..."></textarea>
				<br>
				<button type="submit" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded">Göndər</button>
			</form>
		{% else %}
			<p class="px-4 py-2">Comment yazmaq üçün daxil olun.</p>
		{% endif %}

	</div>
	<!--/container-->

</body>

{% endblock content %}


